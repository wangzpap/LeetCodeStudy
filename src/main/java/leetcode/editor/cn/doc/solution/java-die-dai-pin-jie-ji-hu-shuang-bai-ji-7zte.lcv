### è§£é¢˜æ€è·¯

æœ¬é¢˜è§£å€Ÿé‰´äº† **é¢˜è§£åŒº**å¤§ä½¬ çš„æ€æƒ³ â€”â€” **`è¿­ä»£+æ‹¼æ¥æ‹†åˆ†`**ï¼š

> 1. åœ¨ åŸé“¾è¡¨æ¯ä¸€ä¸ªèŠ‚ç‚¹åï¼Œç»­æ¥ ä¸€ä¸ªæ–°èŠ‚ç‚¹
> 2. ä¸º å½“å‰é“¾è¡¨ çš„ æ¯ä¸€ä¸ªæ–°newèŠ‚ç‚¹çš„randomå±æ€§ èµ‹å€¼
> 3. å°† å½“å‰é“¾è¡¨ï¼ŒæŒ‰ç…§ä¸€ä¸ªé—´éš”ä¸€ä¸ªçš„é¡ºåº æ‹†åˆ†å¼€
>
>> 1. å°†æ–°newèŠ‚ç‚¹ï¼Œä¸²æˆä¸€ä¸ª æ–°é“¾è¡¨
>> 2. å°†åŸé“¾è¡¨çš„èŠ‚ç‚¹ï¼Œæ‹†å‡ºæ¥å¹¶ç»„åˆæˆ åŸé“¾è¡¨
>
> 4. å°† åŸé“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ çš„ nextæŒ‡é’ˆï¼Œé‡æ–°æŒ‡å‘null

### è¿è¡Œç»“æœ

![image.png](https://pic.leetcode-cn.com/1615190605-gDuQsS-image.png)

### ä»£ç 

* java

```java
/*
// Definition for a Node.
class Node {
    int val;
    Node next;
    Node random;

    public Node(int val) {
        this.val = val;
        this.next = null;
        this.random = null;
    }
}
*/
class Solution {
    public Node copyRandomList(Node head) {
        if (head == null) {
            return null;
        }

        Node curNode = head;

        /*
            åœ¨ åŸé“¾è¡¨æ¯ä¸€ä¸ªèŠ‚ç‚¹åï¼Œç»­æ¥ ä¸€ä¸ªæ–°èŠ‚ç‚¹
        */
        while (curNode != null) {
            Node tempNode = new Node(curNode.val);
            tempNode.next = curNode.next;
            curNode.next = tempNode;    // å°† å½“å‰èŠ‚ç‚¹çš„next æŒ‡å‘ æ–°newèŠ‚ç‚¹
            curNode = tempNode.next;    // å°† å½“å‰èŠ‚ç‚¹ æŒ‡å‘ åŸé“¾è¡¨çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
        }

        /*
            ä¸º å½“å‰é“¾è¡¨ çš„ æ¯ä¸€ä¸ªæ–°newèŠ‚ç‚¹çš„randomå±æ€§ èµ‹å€¼
        */
        curNode = head;
        while (curNode != null) {
            /*
                ç”±äºæˆ‘ä»¬è®©curNodeé¦–å…ˆæŒ‡å‘çš„æ˜¯headèŠ‚ç‚¹ï¼Œ
                å› æ­¤ï¼Œæˆ‘ä»¬è®©curNodeä¸€ç›´æŒ‡å‘ åŸé“¾è¡¨çš„èŠ‚ç‚¹ å³å¯ï¼
            */
            if (curNode.random != null) {
                curNode.next.random = curNode.random.next;  // ä¸º æ–°newèŠ‚ç‚¹çš„random èµ‹å€¼ä¸º åŸé“¾è¡¨ä¸­åº”è¯¥çš„randomæŒ‡å‘çš„èŠ‚ç‚¹çš„ç›¸åº”çš„æ–°newèŠ‚ç‚¹
            }
            curNode = curNode.next.next;
        }

        /*
            å°† å½“å‰é“¾è¡¨ï¼ŒæŒ‰ç…§ä¸€ä¸ªé—´éš”ä¸€ä¸ªçš„é¡ºåº æ‹†åˆ†å¼€
                1ã€å°†æ–°newèŠ‚ç‚¹ï¼Œä¸²æˆä¸€ä¸ª æ–°é“¾è¡¨
                2ã€å°†åŸé“¾è¡¨çš„èŠ‚ç‚¹ï¼Œæ‹†å‡ºæ¥å¹¶ç»„åˆæˆ åŸé“¾è¡¨
        */
        curNode = head.next;
        Node preNode = head;
        Node result = head.next;
        while (curNode.next != null) {
            preNode.next = preNode.next.next;
            curNode.next = curNode.next.next;
            preNode = preNode.next;
            curNode = curNode.next;
        }
        preNode.next = null;    // å°† åŸé“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ çš„ nextæŒ‡é’ˆï¼Œé‡æ–°æŒ‡å‘null
        return result;
    }
}
```

æ‰“å¡183å¤©ï¼ŒåŠ æ²¹ï¼ï¼ï¼
ä»Šå¤©é—®å¯¼å‘˜å®ä¹ çš„äº‹ï¼Œé™¢æ•™åŠ¡å¤„çš„æ“ä½œçœŸæ˜¯è’‚èŠ±ä¹‹ç§€
ä¹‹å‰ï¼Œå‚åŠ è“æ¡¥æ¯æ¯”èµ›ï¼Œåˆ«çš„é™¢ï¼ˆæ‰€æœ‰é™¢ï¼‰åªè¦æœ‰çœ2ä»¥ä¸Šå°±ç»™æŠ¥é”€ï¼Œæœ‰çš„é™¢ç”šè‡³è¿˜æœ‰å¥–åŠ±ï¼Œååæˆ‘ä»¬é™¢å•¥éƒ½æ²¡æœ‰ï¼ŒæŠ¥åè´¹ä¸€åˆ†ä¸æŠ¥é”€
å¦‚ä»Šï¼Œåˆæ˜¯åˆ«çš„é™¢ç­¾ä¸ªæ‰¿è¯ºä¹¦å°±è¡Œäº†ï¼Œå°±æˆ‘ä»¬é™¢å›šç€å­¦ç”Ÿä¸è®©èµ°ğŸ˜‘
ç„¶åï¼Œåˆè¯´å°±ä¸šç‡ä¸é«˜ä¹‹ç±»çš„ï¼Œå­¦ç”Ÿä¸å¦‚åˆ«çš„é™¢åŠªåŠ›
çœŸæ˜¯æœäº†
